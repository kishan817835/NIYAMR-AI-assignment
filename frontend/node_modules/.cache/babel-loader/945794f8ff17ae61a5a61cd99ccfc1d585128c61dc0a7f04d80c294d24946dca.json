{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE_URL = \"http://localhost:5000\";\nexport async function checkDocument(pdfFile, rules) {\n  if (!pdfFile) {\n    throw new Error(\"No PDF file provided\");\n  }\n  if (!Array.isArray(rules) || rules.length === 0) {\n    throw new Error(\"No rules provided\");\n  }\n  const form = new FormData();\n  form.append(\"pdf\", pdfFile);\n  form.append(\"rules\", JSON.stringify(rules));\n  try {\n    const response = await axios.post(`${API_BASE_URL}/check`, form, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      timeout: 60000 // 1 minute timeout\n    });\n    if (!response.data || !Array.isArray(response.data.results)) {\n      throw new Error(\"Invalid response format from server\");\n    }\n    return response.data.results;\n  } catch (error) {\n    let errorMessage = \"An error occurred while processing your request\";\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      // that falls out of the range of 2xx\n      if (error.response.status === 413) {\n        errorMessage = \"File is too large. Please upload a smaller file.\";\n      } else if (error.response.status === 400) {\n        errorMessage = \"Invalid request. Please check your input and try again.\";\n      } else if (error.response.status === 500) {\n        errorMessage = \"Server error. Please try again later.\";\n      } else if (error.response.data && error.response.data.error) {\n        errorMessage = error.response.data.error;\n      }\n    } else if (error.request) {\n      // The request was made but no response was received\n      errorMessage = \"No response from server. Please check your connection.\";\n    } else if (error.code === 'ECONNABORTED') {\n      errorMessage = \"Request timed out. Please try again.\";\n    } else if (error.message) {\n      // Something happened in setting up the request that triggered an Error\n      errorMessage = error.message;\n    }\n    throw new Error(errorMessage);\n  }\n}","map":{"version":3,"names":["axios","API_BASE_URL","checkDocument","pdfFile","rules","Error","Array","isArray","length","form","FormData","append","JSON","stringify","response","post","headers","timeout","data","results","error","errorMessage","status","request","code","message"],"sources":["E:/Intershala project/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_BASE_URL = \"http://localhost:5000\";\r\n\r\nexport async function checkDocument(pdfFile, rules) {\r\n  if (!pdfFile) {\r\n    throw new Error(\"No PDF file provided\");\r\n  }\r\n\r\n  if (!Array.isArray(rules) || rules.length === 0) {\r\n    throw new Error(\"No rules provided\");\r\n  }\r\n\r\n  const form = new FormData();\r\n  form.append(\"pdf\", pdfFile);\r\n  form.append(\"rules\", JSON.stringify(rules));\r\n\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}/check`, form, {\r\n      headers: { \r\n        \"Content-Type\": \"multipart/form-data\" \r\n      },\r\n      timeout: 60000 // 1 minute timeout\r\n    });\r\n\r\n    if (!response.data || !Array.isArray(response.data.results)) {\r\n      throw new Error(\"Invalid response format from server\");\r\n    }\r\n\r\n    return response.data.results;\r\n  } catch (error) {\r\n    let errorMessage = \"An error occurred while processing your request\";\r\n    \r\n    if (error.response) {\r\n      // The request was made and the server responded with a status code\r\n      // that falls out of the range of 2xx\r\n      if (error.response.status === 413) {\r\n        errorMessage = \"File is too large. Please upload a smaller file.\";\r\n      } else if (error.response.status === 400) {\r\n        errorMessage = \"Invalid request. Please check your input and try again.\";\r\n      } else if (error.response.status === 500) {\r\n        errorMessage = \"Server error. Please try again later.\";\r\n      } else if (error.response.data && error.response.data.error) {\r\n        errorMessage = error.response.data.error;\r\n      }\r\n    } else if (error.request) {\r\n      // The request was made but no response was received\r\n      errorMessage = \"No response from server. Please check your connection.\";\r\n    } else if (error.code === 'ECONNABORTED') {\r\n      errorMessage = \"Request timed out. Please try again.\";\r\n    } else if (error.message) {\r\n      // Something happened in setting up the request that triggered an Error\r\n      errorMessage = error.message;\r\n    }\r\n\r\n    throw new Error(errorMessage);\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,uBAAuB;AAE5C,OAAO,eAAeC,aAAaA,CAACC,OAAO,EAAEC,KAAK,EAAE;EAClD,IAAI,CAACD,OAAO,EAAE;IACZ,MAAM,IAAIE,KAAK,CAAC,sBAAsB,CAAC;EACzC;EAEA,IAAI,CAACC,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,IAAIA,KAAK,CAACI,MAAM,KAAK,CAAC,EAAE;IAC/C,MAAM,IAAIH,KAAK,CAAC,mBAAmB,CAAC;EACtC;EAEA,MAAMI,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC3BD,IAAI,CAACE,MAAM,CAAC,KAAK,EAAER,OAAO,CAAC;EAC3BM,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACT,KAAK,CAAC,CAAC;EAE3C,IAAI;IACF,MAAMU,QAAQ,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,GAAGd,YAAY,QAAQ,EAAEQ,IAAI,EAAE;MAC/DO,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,OAAO,EAAE,KAAK,CAAC;IACjB,CAAC,CAAC;IAEF,IAAI,CAACH,QAAQ,CAACI,IAAI,IAAI,CAACZ,KAAK,CAACC,OAAO,CAACO,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,EAAE;MAC3D,MAAM,IAAId,KAAK,CAAC,qCAAqC,CAAC;IACxD;IAEA,OAAOS,QAAQ,CAACI,IAAI,CAACC,OAAO;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIC,YAAY,GAAG,iDAAiD;IAEpE,IAAID,KAAK,CAACN,QAAQ,EAAE;MAClB;MACA;MACA,IAAIM,KAAK,CAACN,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;QACjCD,YAAY,GAAG,kDAAkD;MACnE,CAAC,MAAM,IAAID,KAAK,CAACN,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;QACxCD,YAAY,GAAG,yDAAyD;MAC1E,CAAC,MAAM,IAAID,KAAK,CAACN,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;QACxCD,YAAY,GAAG,uCAAuC;MACxD,CAAC,MAAM,IAAID,KAAK,CAACN,QAAQ,CAACI,IAAI,IAAIE,KAAK,CAACN,QAAQ,CAACI,IAAI,CAACE,KAAK,EAAE;QAC3DC,YAAY,GAAGD,KAAK,CAACN,QAAQ,CAACI,IAAI,CAACE,KAAK;MAC1C;IACF,CAAC,MAAM,IAAIA,KAAK,CAACG,OAAO,EAAE;MACxB;MACAF,YAAY,GAAG,wDAAwD;IACzE,CAAC,MAAM,IAAID,KAAK,CAACI,IAAI,KAAK,cAAc,EAAE;MACxCH,YAAY,GAAG,sCAAsC;IACvD,CAAC,MAAM,IAAID,KAAK,CAACK,OAAO,EAAE;MACxB;MACAJ,YAAY,GAAGD,KAAK,CAACK,OAAO;IAC9B;IAEA,MAAM,IAAIpB,KAAK,CAACgB,YAAY,CAAC;EAC/B;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}